<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<p:importEnum type="es.caib.sistrages.core.api.model.types.TypeCampoIndexado" var="TypeCampoIndexado"/>
	<p:importEnum type="es.caib.sistrages.core.api.model.types.TypeListaValores" var="TypeListaValores"/>
	<p:importEnum type="es.caib.sistrages.core.api.model.types.TypeOrientacion" var="TypeOrientacion"/>

	<h:column><p:outputLabel value="#{msg['dialogDisenyoFormulario.componente.tipo']}" /></h:column>
	<h:column>
		<p:selectOneMenu id="tipoCampoIndexado" value="#{dialogDisenyoFormulario.objetoFormularioEdit.tipoCampoIndexado}" required="true" disabled="#{dialogDisenyoFormulario.consulta or dialogDisenyoFormulario.desactivarAplicarCambios}">
		    <p:ajax event="blur" process="@this"/>
		    <p:ajax event="change" update="panelPropietats" />
		    <p:ajax event="change" listener="#{dialogDisenyoFormulario.setCambios}" process="@this" update="@this"/>
		    <f:selectItems value="#{TypeCampoIndexado.ALL_VALUES}" var="tipoCampoIndexado" itemLabel="#{msg['typeCampoIndexado.' += tipoCampoIndexado.name()]}" />
		</p:selectOneMenu>
	</h:column>

	<h:column rendered="#{dialogDisenyoFormulario.isListaSeleccionUnica()}"><p:outputLabel value="#{msg['dialogDisenyoFormulario.componente.orientacion']}" /></h:column>
	<h:column rendered="#{dialogDisenyoFormulario.isListaSeleccionUnica()}">
		<p:selectOneMenu id="tipoOrientacion" value="#{dialogDisenyoFormulario.objetoFormularioEdit.orientacion}" disabled="#{dialogDisenyoFormulario.consulta or dialogDisenyoFormulario.desactivarAplicarCambios}">
		    <p:ajax event="blur" process="@this" />
		    <p:ajax event="change" listener="#{dialogDisenyoFormulario.setCambios}" process="@this" update="@this"/>
		    <f:selectItems value="#{TypeOrientacion.ALL_VALUES}" var="tipoOrientacion" itemLabel="#{msg['typeOrientacion.' += tipoOrientacion.name()]}"  itemValue="#{tipoOrientacion.toString()}" />
		</p:selectOneMenu>
	</h:column>

	<h:column><p:outputLabel value="#{msg['dialogDisenyoFormulario.componente.tipoListaValores']}" /></h:column>
	<h:column>
		<p:selectOneMenu id="tipoListaValores" value="#{dialogDisenyoFormulario.objetoFormularioEdit.tipoListaValores}" disabled="#{dialogDisenyoFormulario.consulta or dialogDisenyoFormulario.desactivarAplicarCambios}">
		    <p:ajax event="blur" process="@this"/>
		    <p:ajax event="change" update="panelPropietats" />
		    <p:ajax event="change" listener="#{dialogDisenyoFormulario.setCambios}" process="@this" update="@this"/>
		    <f:selectItems value="#{TypeListaValores.ALL_VALUES}" var="tipoListaValores" itemLabel="#{msg['typeListaValores.' += tipoListaValores]}" />
		</p:selectOneMenu>
	</h:column>

	<h:column rendered="#{dialogDisenyoFormulario.isLVFija()}"><p:outputLabel value="#{msg['dialogDisenyoFormulario.componente.listaValores']}" /></h:column>
	<h:column rendered="#{dialogDisenyoFormulario.isLVFija()}">
		<p:commandButton id="btnAbrirLFVCIN" icon="fa fa-ellipsis-h" actionListener="#{dialogDisenyoFormulario.abrirListaValoresFijaCIN}" process="@this">
			<p:ajax event="dialogReturn" listener="#{dialogDisenyoFormulario.returnDialogoListaValoresFijaCIN}" update="growlDisenyoFormulario"/>
		</p:commandButton>
	</h:column>

	<h:column rendered="#{dialogDisenyoFormulario.isLVDominio()}"><p:outputLabel value="#{msg['dialogDisenyoFormulario.componente.dominio']}" /></h:column>
	<h:column rendered="#{dialogDisenyoFormulario.isLVDominio()}">
		<p:outputLabel value="#{dialogDisenyoFormulario.identificadorDominio}" styleClass="padding-right-8" rendered="#{not empty dialogDisenyoFormulario.objetoFormularioEdit.codDominio}"/>
		<p:commandButton id="btnAbrirDominio" icon="fa fa-ellipsis-h" actionListener="#{dialogDisenyoFormulario.abrirBusquedaDominio}" process="@this" rendered="#{dialogDisenyoFormulario.isNotConsulta()}" title="#{msg['dialogDisenyoFormulario.title.dominio.seleccionar']}">
			<p:ajax event="dialogReturn" listener="#{dialogDisenyoFormulario.returnDialogoBusquedaDominio}" update="growlDisenyoFormulario panelPropietats"/>
		</p:commandButton>
		<p:commandButton id="btnConsultarDominio" icon="fa fa-search" actionListener="#{dialogDisenyoFormulario.consultaDominio}" process="@this" rendered="#{not empty dialogDisenyoFormulario.objetoFormularioEdit.codDominio}" title="#{msg['dialogDisenyoFormulario.title.dominio.consultar']}"/>
		<p:commandButton id="btnPingDominio" icon="fa fa-arrow-up" actionListener="#{dialogDisenyoFormulario.pingDominio}" process="@this" rendered="#{not empty dialogDisenyoFormulario.objetoFormularioEdit.codDominio}" title="#{msg['dialogDisenyoFormulario.title.dominio.probar']}"/>
	</h:column>

	<h:column rendered="#{dialogDisenyoFormulario.isLVDominio() and not dialogDisenyoFormulario.isDominioLF()}"><p:outputLabel value="#{msg['dialogDisenyoFormulario.componente.dominioCodigo']}" /></h:column>
	<h:column rendered="#{dialogDisenyoFormulario.isLVDominio() and not dialogDisenyoFormulario.isDominioLF()}">
		<p:inputText value="#{dialogDisenyoFormulario.objetoFormularioEdit.campoDominioCodigo}" onblur="this.value = this.value.toUpperCase().trim();"  maxlength="100" readonly="#{dialogDisenyoFormulario.consulta or dialogDisenyoFormulario.desactivarAplicarCambios}">
			<p:ajax event="blur" process="@this" />
			<p:ajax event="change" listener="#{dialogDisenyoFormulario.setCambios}" process="@this" update="@this"/>
		</p:inputText>
	</h:column>

	<h:column rendered="#{dialogDisenyoFormulario.isLVDominio() and not dialogDisenyoFormulario.isDominioLF()}"><p:outputLabel value="#{msg['dialogDisenyoFormulario.componente.dominioDescripcion']}" /></h:column>
	<h:column rendered="#{dialogDisenyoFormulario.isLVDominio() and not dialogDisenyoFormulario.isDominioLF()}">
		<p:inputText value="#{dialogDisenyoFormulario.objetoFormularioEdit.campoDominioDescripcion}" onblur="this.value = this.value.toUpperCase().trim();"  maxlength="100" readonly="#{dialogDisenyoFormulario.consulta or dialogDisenyoFormulario.desactivarAplicarCambios}">
			<p:ajax event="blur" process="@this" />
			<p:ajax event="change" listener="#{dialogDisenyoFormulario.setCambios}" process="@this" update="@this"/>
		</p:inputText>
	</h:column>

	<h:column rendered="#{dialogDisenyoFormulario.isLVDominio() and not dialogDisenyoFormulario.isDominioLF() and dialogDisenyoFormulario.isDominioTieneParametros()}"><p:outputLabel value="#{msg['dialogDisenyoFormulario.componente.dominioParametros']}" /></h:column>
	<h:column rendered="#{dialogDisenyoFormulario.isLVDominio() and not dialogDisenyoFormulario.isDominioLF() and dialogDisenyoFormulario.isDominioTieneParametros()}">
		<p:commandButton id="btnAbrirParametrosDominio" icon="fa fa-ellipsis-h" actionListener="#{dialogDisenyoFormulario.abrirParametrosDominioCIN}" process="@this">
			<p:ajax event="dialogReturn" listener="#{dialogDisenyoFormulario.returnDialogoParametrosDominioCIN}" update="growlDisenyoFormulario"/>
		</p:commandButton>
	</h:column>

	<h:column rendered="#{dialogDisenyoFormulario.isListaDesplegable()}"><p:outputLabel value="#{msg['dialogDisenyoFormulario.componente.indiceAlfabetico']}"/></h:column>
	<h:column rendered="#{dialogDisenyoFormulario.isListaDesplegable()}">
		<p:outputPanel>
			<p:selectBooleanCheckbox value="#{dialogDisenyoFormulario.objetoFormularioEdit.indiceAlfabetico}" disabled="#{dialogDisenyoFormulario.consulta or dialogDisenyoFormulario.desactivarAplicarCambios}">
				<p:ajax event="change" global="false"/>
				<p:ajax event="change" listener="#{dialogDisenyoFormulario.setCambios}" process="@this" update="@this"/>
			</p:selectBooleanCheckbox>
		</p:outputPanel>
   	</h:column>
</ui:composition>
