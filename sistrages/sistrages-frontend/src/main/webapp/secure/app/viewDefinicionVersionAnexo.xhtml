<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<p:importEnum type="es.caib.sistrages.core.api.model.types.TypeFormularioObligatoriedad" var="TypeFormularioObligatoriedad" />
<p:importEnum type="es.caib.sistrages.core.api.model.types.TypePresentacion" var="TypePresentacion" />
<p:importEnum type="es.caib.sistrages.core.api.model.types.TypeTamanyo" var="TypeTamanyo" />
<p:importEnum type="es.caib.sistrages.core.api.model.types.TypeScriptFlujo" var="TypeScriptFlujo" />


	<h:form id="formViewDefinicionVersionAnexo" styleClass="h100">

		<!-- Growl mensajes -->
		<p:growl id="growl" widgetVar="growl" showDetail="false" life="2000" sticky="false" />

       	<h:panelGrid columns="2"  rowClasses=", ui-datatable-odd"  columnClasses="w10 grid-left, w90 grid-left" styleClass="w100 h100" cellpadding="10" cellspacing="0">

            <p:outputLabel for="identificador" value="#{msg['viewDefinicionVersionAnexo.identificador']}" />
          	<p:inputText id="identificador" required="true" disabled="true" styleClass="w35" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.codigo}"  />


            <p:outputLabel for="descripcion" value="#{msg['viewDefinicionVersionAnexo.descripcion']}" />
            <p:outputPanel styleClass="ui-inputgroup">
           		<p:inputText id="descripcion" required="true" disabled="true" styleClass="w85" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.descripcion.getTraduccion(sessionBean.lang)}" />
           		<p:commandButton icon="fa fa-language" actionListener="#{viewDefinicionVersion.consultarTraduccion(viewDefinicionVersion.documentoTramiteSeleccionado.descripcion)}"
						process="@this" update="growl"/>
       		</p:outputPanel>

         	<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.obligatoriedad']}" />
         	<p:panelGrid styleClass="noBorders" columns="2" columnClasses="noPadding-left,">
	         	<p:selectOneRadio id="obligatoriedad" disabled="true" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.obligatoriedad}">
		            <f:selectItems value="#{TypeFormularioObligatoriedad.ALL_VALUES}" var="tipo" itemLabel="#{msg['typeFormularioObligatoriedad.' += tipo]}" />
			     </p:selectOneRadio>

		     	<p:commandButton icon="fa fa-bolt" actionListener="#{viewDefinicionVersion.consultarScript(TypeScriptFlujo.SCRIPT_DEPENDENCIA_DOCUMENTO.name(), viewDefinicionVersion.documentoTramiteSeleccionado.scriptObligatoriedad.codigo)}" value="#{msg['viewDefinicionVersionAnexo.obligatoriedad.establecerdependencia']}"
					styleClass="#{viewDefinicionVersion.getColorScript(viewDefinicionVersion.documentoTramiteSeleccionado.scriptObligatoriedad)}"
					disabled="#{viewDefinicionVersion.documentoTramiteSeleccionado.scriptObligatoriedad eq null}"
					process="@this" update="growl"/>
         	</p:panelGrid>

        	<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.ayuda']}" />
        	<p:outputPanel>
	        	<h:panelGrid columns="2" columnClasses="noPadding-left wpx100," styleClass="w100">

					<p:outputPanel>
						<p:spacer width="8" height="1"/>
						<p:outputLabel  value="#{msg['viewDefinicionVersionAnexo.ayuda.fichero']}" />
					</p:outputPanel>
					<p:column>
						<h:outputText  id="ficheroVacio" value="#{msg['error.noexistefitxer']}" rendered="#{empty viewDefinicionVersion.documentoTramiteSeleccionado.ayudaFichero}"/>
		           		<p:commandLink id="ficheroLink" action="#{dialogDefinicionVersionAnexo.descargaFichero(viewDefinicionVersion.documentoTramiteSeleccionado.ayudaFichero)}" target="_blank" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.ayudaFichero.nombre}" rendered="#{!empty viewDefinicionVersion.documentoTramiteSeleccionado.ayudaFichero}"/>
		           	</p:column>

					<p:outputPanel>
						<p:spacer width="8" height="1"/>
						<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.ayuda.url']}" />
					</p:outputPanel>
					<p:inputText id="url_input"  disabled="true" styleClass="w85" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.ayudaURL}" />

					<p:outputPanel>
						<p:spacer width="8" height="1"/>
						<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.ayuda.mensaje']}" />
					</p:outputPanel>
					<p:outputPanel styleClass="ui-inputgroup">
	           			<p:inputText id="mensaje_input" disabled="true" styleClass="w85" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.ayudaTexto.getTraduccion(sessionBean.lang)}" />
	           			<p:commandButton icon="fa fa-language" actionListener="#{viewDefinicionVersion.consultarTraduccion(viewDefinicionVersion.documentoTramiteSeleccionado.ayudaTexto)}"
							process="@this" update="growl"/>
	       			</p:outputPanel>

	         	</h:panelGrid>
			</p:outputPanel>

         	<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.tipopresentacion']}" />
        	<p:outputPanel>
	        	<p:selectOneRadio id="tipopresentacion" disabled="true" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.tipoPresentacion}" layout="custom">
		        	     <f:selectItems value="#{TypePresentacion.ALL_VALUES}" var="tipo" itemLabel="#{msg['typePresentacion.' += tipo]}" />
		        	<f:selectItem itemLabel="#{msg['viewDefinicionVersionAnexo.tipopresentacion.presencial']}" itemValue="presencial" />
	        	</p:selectOneRadio>
	         	<h:panelGrid columns="2" columnClasses="noPadding-left wpx100 padding8," styleClass="w100">
					<p:outputPanel>
						<p:radioButton id="electronica" for="tipopresentacion" itemIndex="0" />
						<p:spacer width="8" height="1"/>
						<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica']}" />
					</p:outputPanel>
					<h:panelGrid columns="2" columnClasses="wpx120 grid-right, padding-left-4" styleClass="panel_izq w100">
						<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.numinstancias']}" for="numinstancias"/>
						<p:panelGrid styleClass="noBorders" columns="2" columnClasses="noPadding-left,">
							<p:inputText id="numinstancias" disabled="true" size="3" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.numeroInstancia}" />

						</p:panelGrid>

						<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.extensiones']}" />
						<p:panelGrid styleClass="noBorders" columns="3" columnClasses="noPadding-left,,noPadding-left">
								<p:selectOneRadio id="extensiones" disabled="true" value="anexarfirmado">
						        	<f:selectItem itemLabel="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.extensiones.todas']}" itemValue="todas" />
						        	<f:selectItem itemLabel="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.extensiones.personalizadas']}" itemValue="personalizadas" />
					        	</p:selectOneRadio>
					        	<p:inputText id="personalizadas_input" disabled="true" size="15"/>
						 </p:panelGrid>

						<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.tammaximo']}" for="tammaximo" />
						<p:panelGrid styleClass="noBorders" columns="4" columnClasses="noPadding-left,noPadding-left">
							<p:inputText id="tammaximo" disabled="true" size="3" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.tamanyoMaximo}"  />
							<p:selectOneRadio id="tipotam" disabled="true" columns="1" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.tipoTamanyo}">
						        	<f:selectItems value="#{TypeTamanyo.ALL_VALUES}" var="tipo" itemLabel="#{msg['typeTamanyo.' += tipo]}" />
					        </p:selectOneRadio>


							<p:spacer width="8" height="1"/>
							<p:selectBooleanCheckbox id="convertirpdf" disabled="true" value="true" itemLabel="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.convertirpdf']}"/>
						</p:panelGrid>

						<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.firma']}"  />
						<p:panelGrid styleClass="noBorders" columns="2" columnClasses="noPadding-left,noPadding-left">
							<p:selectOneRadio id="firma" disabled="true" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.debeAnexarFirmado}">
					        	<f:selectItem itemLabel="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.anexarfirmado']}" itemValue="anexarfirmado" />
					        	<f:selectItem itemLabel="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.firmar']}" itemValue="firmar" />
						     </p:selectOneRadio>
							<p:commandButton icon="fa fa-bolt" actionListener="#{viewDefinicionVersion.consultarScript(TypeScriptFlujo.SCRIPT_FIRMANTES.name(), viewDefinicionVersion.documentoTramiteSeleccionado.scriptFirmarDigitalmente.codigo)}" value="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.establecerfirmantes']}"
									styleClass="#{viewDefinicionVersion.getColorScript(viewDefinicionVersion.documentoTramiteSeleccionado.scriptFirmarDigitalmente)}"
									disabled="#{viewDefinicionVersion.documentoTramiteSeleccionado.scriptFirmarDigitalmente eq null}"
									process="@this" update="growl"/>
						</p:panelGrid>

						<p:outputLabel value="#{msg['viewDefinicionVersionAnexo.tipopresentacion.electronica.scriptvalidacion']}" />
						<p:commandButton icon="fa fa-bolt" actionListener="#{viewDefinicionVersion.consultarScript(TypeScriptFlujo.SCRIPT_VALIDAR_ANEXO.name(), viewDefinicionVersion.documentoTramiteSeleccionado.scriptValidacion.codigo)}"
									styleClass="#{viewDefinicionVersion.getColorScript(viewDefinicionVersion.documentoTramiteSeleccionado.scriptValidacion)}"
									disabled="#{viewDefinicionVersion.documentoTramiteSeleccionado.scriptValidacion eq null}"
										process="@this" update="growl"/>

					</h:panelGrid>


					<p:outputPanel>
						<p:radioButton id="presencial" for="tipopresentacion" itemIndex="1" />
						<p:spacer width="8" height="1"/>
						<p:outputLabel for="presencial" value="#{msg['viewDefinicionVersionAnexo.tipopresentacion.presencial']}" />
					</p:outputPanel>
					<!-- <p:outputPanel>
						<p:selectBooleanCheckbox id="compulsar" disabled="true" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.debeCompulsar}" itemLabel="#{msg['viewDefinicionVersionAnexo.tipopresentacion.presencial.compulsar']}"/>
						<p:selectBooleanCheckbox id="presentarfotocopia" disabled="true" value="#{viewDefinicionVersion.documentoTramiteSeleccionado.debeFotocopiar}"  itemLabel="#{msg['viewDefinicionVersionAnexo.tipopresentacion.presencial.presentarfotocopia']}"/>
					</p:outputPanel> -->
	         	</h:panelGrid>
			</p:outputPanel>


			<f:facet name = "footer">
				<p:outputPanel id="toolbar" styleClass="grid-right">
					<p:commandButton id="btnEditar" value="#{msg['botones.editar']}" styleClass="boton-azul"
						rendered="#{viewDefinicionVersion.permiteEditar()}"
						actionListener="#{viewDefinicionVersion.editarDocumentoTramite()}"
						process="@this" update="growl">
						<p:ajax event="dialogReturn" listener="#{viewDefinicionVersion.returnDialogoDocumento}" update="growl formArbol:arbol formViewDefinicionVersionAnexo" />
					</p:commandButton>
				</p:outputPanel>
			</f:facet>

		</h:panelGrid>

	</h:form>

</ui:composition>